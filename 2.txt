
def avaliblity_check(data):
    count = 0
    for i in range (1,4+1):
        x=data[i].copy()
        y=x.get('is_ava')
        y=str(y)
        if(y == 'yes'):
            count= count+1
    print("avaliable employe:",count)
    if(count == 0):
        print("all busy")
    elif(count == 4):
        print("all avaliable")
    elif(count < 4 ):
        print("least busy")
    print("random")
    
    
def all_avaliable(data,issue_role,issue_duration,issue_empneed):
     for i in range (1,len(data)+1):
        x=data[i].copy()
        if(x.get("role") == issue_role):
            if(x.get("is_ava") == 'yes'):
                print(x,"\n")
                x["is_ava"] = "no"
                time = int(x["ava_since"])
                x["ava_since"] = time + issue_duration
                print(x,"\n")
                issue_empneed = issue_empneed - 1
                print(issue_empneed)
        if(issue_empneed > 0):
            continue
        else:
            break

        
               
                    
def least_busy(data,issue_role,issue_duration,issue_empneed):
     for i in range (len(data)+1,1,-1):
        x=data[i].copy()
        if(x.get("role") == issue_role):
            if(x.get("is_ava") == 'yes'):
                print(x,"\n")
                x["is_ava"] = "no"
                time = int(x["ava_since"])
                x["ava_since"] = time + issue_duration
                print(x,"\n")
                issue_empneed = issue_empneed - 1
                print(issue_empneed)
        if(issue_empneed > 0):
            continue
        else:
            break
    
    
def random(data,issue_role,issue_duration,issue_empneed):
     for i in range (1,len(data)+1):
        x=data[i].copy()
        if(x.get("role") == issue_role):
            if(x.get("is_ava") == 'yes'):
                print(x,"\n")
                x["is_ava"] = "no"
                time = int(x["ava_since"])
                x["ava_since"] = time + issue_duration
                print(x,"\n")
                issue_empneed = issue_empneed - 1
                print(issue_empneed)
        if(issue_empneed > 0):
            continue
        else:
            break
    

    
gokul = {
  "name": "gokul",
  'is_ava': 'yes',
  "ava_since": 8,
  "role":"sale"}
guru = {   
  "name": "guru",
  "is_ava": "yes",
  "ava_since": 8,
  "role":"speaker"}
hari = {    
  "name": "hari",
  "is_ava": "yes",
  "ava_since": 8,
  "role":"support"}
ashwin = {    
  "name": "ashwin",
  "is_ava": "yes",
  "ava_since": 8,
  "role":"sale"}

issue = {
    "role":"empty",
    "duration":"empty",
    "need":"empty"}


data = {1:gokul ,2:guru ,3:hari ,4:ashwin}


print("hi sir how can I help u \n you need to enter the issue details pls: ")

issue_role = str(input("enter the role of employee: "))
issue_duration = int(input("enter the duraton needed: "))
issue_empneed = int(input("enter the number of employe need: "))

issue["role"] = issue_role
issue["duration"] = issue_duration
issue["need"] = issue_empneed

print(issue,"\n")


avaliblity_check(data)

select = input("type the option bellow: ")

if(select == "all avaliable"):
    all_avaliable(data,issue_role,issue_duration,issue_empneed)
elif(select == "least busy"):
    least_busy(data,issue_role,issue_duration,issue_empneed)
elif(select == "random"):
    random(data,issue_role,issue_duration,issue_empneed)
